## 类型约束

`PHP` 可以在类中使用类型约束。参数和返回值可以指定必须为对象（在函数原型里面指定类的名字），接口，数组或者可调用类型等等。不过如果使用 `NULL` 作为参数的默认值，那么在调用函数的时候依然可以使用 `NULL` 作为参数。

如果一个类或接口指定了类型约束，则其所有的子类或实现也都如此。

```php
<?php

declare(strict_types = 1);

class Foo
{
    /**
     * Just a test property.
     *
     * @var string
     */
    public $property = 'foo';

    /**
     * Just a test method.
     *
     * @param  self   $instance
     * @return string
     */
    public function method(self $instance): string
    {
        return $instance->property;
    }
}

class Bar
{
    /**
     * Just a test property.
     *
     * @var string
     */
    public $property = 'bar';
}

$foo = new Foo;
$bar = new Bar;

var_dump($foo->method($foo)); // string(3) "foo"
var_dump($foo->method($bar)); // PHP Fatal error:  Uncaught TypeError: Argument 1 passed to Foo::method() must be an instance of Foo, instance of Bar given.

```

