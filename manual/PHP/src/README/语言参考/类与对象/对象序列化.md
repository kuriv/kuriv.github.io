## 对象序列化

所有 `PHP` 里面的值都可以使用函数 `serialize()` 来返回一个包含字节流的字符串来表示。 `unserialize()` 函数能够重新把字符串变回 `PHP` 原来的值。序列化一个对象将会保存对象的所有变量，但是不会保存对象的方法，只会保存类的名字。为了能够 `unserialize()` 一个对象，这个对象的类必须已经定义过。如果序列化类 `Foo` 的一个对象，将会返回一个跟类 `Foo` 相关，而且包含了对象所有变量值的字符串。 如果要想在另外一个文件中反序列化一个对象，这个对象的类必须在解序列化之前定义，可以通过包含一个定义该类的文件或使用函数 `spl_autoload_register()` 来实现。

```php
<?php

declare(strict_types = 1);

require __DIR__ . '/foo.php';

$foo = new Foo;
$foo = serialize($foo);

file_put_contents(__DIR__ . '/serialize.txt', $foo);

```

foo.php

```php
<?php

declare(strict_types = 1);

class Foo
{
    /**
     * Just a test property.
     *
     * @var string
     */
    public $property = 'foo';

    /**
     * Just a test method.
     *
     * @param  void
     * @return string
     */
    public function method(): string
    {
        return $this->property;
    }
}

```

example.php

```php
<?php

declare(strict_types = 1);

require __DIR__ . '/foo.php';

$foo = file_get_contents(__DIR__ . '/serialize.txt');
$foo = unserialize($foo);

var_dump($foo->method()); // string(3) "foo"

```

