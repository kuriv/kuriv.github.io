## 目录

* [self:: 的用法](#self-的用法)
* [static:: 的用法](#static-的用法)
* [非静态环境下使用 static::](#非静态环境下使用-static)
* [转发和非转发调用](#转发和非转发调用)



## self:: 的用法

```php
<?php

declare(strict_types = 1);

class Foo
{
    /**
     * Print the class name of the current method.
     *
     * @param  void
     * @return void
     */
    public static function printClass()
    {
        var_dump(__CLASS__);
    }

    /**
     * Just a test method.
     *
     * @param  void
     * @return void
     */
    public static function test()
    {
        self::printClass();
    }
}

class Bar extends Foo
{
    /**
     * Print the class name of the current method.
     *
     * @param  void
     * @return void
     */
    public static function printClass()
    {
        var_dump(__CLASS__);
    }
}

Bar::test();

```

输出：

```
string(3) "Foo"
```

## static:: 的用法

```php
<?php

declare(strict_types = 1);

class Foo
{
    /**
     * Print the class name of the current method.
     *
     * @param  void
     * @return void
     */
    public static function printClass()
    {
        var_dump(__CLASS__);
    }

    /**
     * Just a test method.
     *
     * @param  void
     * @return void
     */
    public static function test()
    {
        static::printClass();
    }
}

class Bar extends Foo
{
    /**
     * Print the class name of the current method.
     *
     * @param  void
     * @return void
     */
    public static function printClass()
    {
        var_dump(__CLASS__);
    }
}

Bar::test();

```

输出：

```
string(3) "Bar"
```

## 非静态环境下使用 static::

```php
<?php

declare(strict_types = 1);

class Foo
{
    /**
     * Print success if the method is successfully called.
     *
     * @param  void
     * @return void
     */
    private function printSuccess()
    {
        var_dump('success');
    }

    /**
     * Just a test method.
     *
     * @param  void
     * @return void
     */
    public function test()
    {
        $this->printSuccess();
        static::printSuccess();
    }
}

class Bar extends Foo
{
}

class Baz extends Foo
{
    /**
     * Replace the parent method.
     *
     * @param  void
     * @return void
     */
    private function printSuccess()
    {
    }
}

$bar = new Bar;
$bar->test();

$baz = new Baz;
$baz->test();

```

输出：

```
string(7) "success"
string(7) "success"
string(7) "success"
PHP Fatal error:  Uncaught Error: Call to private method Baz::printSuccess() from context 'Foo'.
```

## 转发和非转发调用

```php
<?php

declare(strict_types = 1);

class Foo
{
    /**
     * Print the class name of the current method.
     *
     * @param  void
     * @return void
     */
    public static function printClass()
    {
        var_dump(__CLASS__);
    }

    /**
     * Different calls for late static binding.
     *
     * @param  void
     * @return void
     */
    public static function call()
    {
        static::printClass();
    }
}

class Bar extends Foo
{
    /**
     * Print the class name of the current method.
     *
     * @param  void
     * @return void
     */
    public static function printClass()
    {
        var_dump(__CLASS__);
    }

    /**
     * Just a test method.
     *
     * @param  void
     * @return void
     */
    public static function test()
    {
        Foo::call();
        parent::call();
        self::call();
    }
}

class Baz extends Bar
{
    /**
     * Print the class name of the current method.
     *
     * @param  void
     * @return void
     */
    public static function printClass()
    {
        var_dump(__CLASS__);
    }
}

Baz::test();

```

输出：

```
string(3) "Foo"
string(3) "Baz"
string(3) "Baz"
```